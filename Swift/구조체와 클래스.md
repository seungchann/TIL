# Chapter 08. 구조체와 클래스: 객체지향 스위프트  
> *'꼼꼼한 재은 씨의 Swift: 문법편 - 이재은'* 내용을 참고하여 정리한 게시글입니다.  

## 들어가기 전에...  
> 나중에 구조체와 클래스에 대한 학습을 마치고 나면 다시 여기로 돌아와 읽어보기 바랍니다.  
* 개념적으로 구조체와 클래스는 하나의 큰 **코드 블록**이다.  
* 이들 객체는 스위프트가 언어적으로 유연성을 가질 수 있게 해준다.  
* **유연성** : 코드를 떼어서 다른 곳으로 옮기거나 새로운 코드를 추가하기가 쉽다 (<-> 의존성)
<br></br>
* **프로퍼티 (Properties)** : 구조체와 클래스 내부에서 정의된 변수와 상수  
* **메소드 (Method)** : 클래스 내부에서 정의된 함수  
* **멤버 (Member)** : 프로퍼티 + 메소드  
### 구조체 vs 클래스  
#### 공통점  
* 변수나 상수를 사용하여 값을 저장하는 **프로퍼티**를 정의할 수 있음  
* 함수를 사용하여 기능을 제공하는 **메소드**를 정의할 수 있음  
* 속성값에 접근할 수 있는 방법을 제공하는 **서브스크립트**를 정의할 수 있음  
* 객체를 원하는 초기 상태로 설정해주는 **초기화 블록**을 정의할 수 있음  
* 객체에 함수적 기능을 추가하는 **확장(extend)** 구문을 정의할 수 있음  
* 특정 형식의 함수적 표준을 제공하기 위한 **프로토콜**을 구현할 수 있음  
#### 차이점  
* **상속** : 클래스의 특성을 다른 클래스에게 물려줄 수 있다.  
* **타입 캐스팅** : 실행 시 컴파일러가 클래스 인스턴스의 타입을 미리 파악하고 검사할 수 있다.  
* **소멸화 구문** : 인스턴스가 소멸되기 직전에 처리해야 할 구문을 미리 등록해 놓을 수 있다.  
* **참조에 의한 전달** : 클래스 인스턴스가 전달될 때에는 참조 형식으로 제공되며, 이때 참조가 가능한 개수는 제약이 없다.  

## 8.1 구조체와 클래스의 기본 개념  
### 8.1.1 정의 구문  
* 구조체는 `struct` 키워드를 사용하여 정의  
* 클래스는 `class` 키워드를 사용하여 정의  

```swift
struct Resolution {
    // 구조체 내용이 들어갈 부분
}
```

```swift
class VideoMode {
    // 클래스 내용이 들어갈 부분
}
```
* 구조체/클래스 이름의 첫 글자는 **대문자**로, 나머지 글자는 **소문자**로 작성하는 것이 원칙이다.  
* 스위프트에서 구조체나 클래스, 열거형, 프로토콜 등 객체는 **대문자로 시작하는 카멜(Camel) 표기법**을 사용하는 것이 원칙이다.  
* 객체 내에서 프로퍼티나 메소드를 선언할 떄는 **소문자로 시작하는 카멜 표기법**을 사용한다.  

```swift
// 첫 글자는 대문자로 시작
struct Integer {...}
struct String {...}
class Object {...}
class Controller {...}

// 2단어 이상일 경우 카멜 표기법  
struct SignedInteger {...}
class ViewController {...}

// 약어로 이루어진 부분은 모두 대문자로 표기  
class NSNumber {...}
class UIView {...}
struct JSONDictionary {...}
```

### 8.1.2 메소드와 프로퍼티  
* 프로퍼티 (Property) : 구조체와 클래스 내부에서 정의된 **변수나 상수**  
* 메소드 (Method) : 구조체와 클래스 내부에서 **정의된 함수**  

```swift
struct Resolution {
    var width = 0
    var height = 0
    
    func desc() -> String {
        return "Resolution 구조체"
    }
}

class VideoMode {
    var interlaced = false
    var frameRate = 0.0
    var name : String?
    
    func desc() -> String {
        return "VideoMode 클래스"
    }
}
```

### 8.1.3 인스턴스  
* 우리가 정의한 구조체나 클래스를 **그대로 사용**해서 값을 저장하거나 메소드를 실행할 수는 없다.  
* 실질적인 값을 저장하고 사용하려면 **메모리 공간을 할당받은 객체**가 필요하다.  
* 구조체나 클래스는 값을 담을 수 있는 실질적인 그릇을 만들기 위한 일종의 틀이다. -> **원형 (Origin)**  
* 이때 원형 틀을 이용하여 찍어낸 그릇을 **인스턴스 (Instance)**라고 한다.  
```swift
// Resolution 구조체에 대한 인스턴스를 생성하고 상수 insRes에 할당
let insRes = Resolution()

// VideoMode 클래스에 대한 인스턴스를 생성하고 상수 insVMode에 할당  
let insVMode = VideoMode()
```

* 위 예제에서 선언된 프로퍼티는 오직 인스턴스를 통해서만 접근할 수 있다.  
* 이 때문에 구조체나 클래스의 이름을 통해서는 프로퍼티에 접근할 수 었다.  
```swift
lef width = insRes.width
print("insRes 인스턴스의 width 값은 \(width)입니다.)

// 실행 결과
insRes 인스턴스의 width 값은 입니다.
```

* 만약 객체에 정의된 프로퍼티가 **서브 프로퍼티**를 가지고 있는 객체라면, 다음과 같이 계속 점 구문을 이용하여 단계적으로 접근할 수 있다.  
```swift
class VideoMode {
    var interlaced = false
    var frameRate = 0.0
    var name: String?
    
    var res = Resolution()
    ...
}

// VideoMode 클래스에 대한 인스턴스를 생성하고 상수에 할당  
let vMode = VideoMode()

print("vMode 인스턴스의 width 값은 \(vMode.res.width) 입니다.")

// 실행 결과
vMode 인스턴스의 width 값은 입니다.
```

* 프로퍼티의 하위 프로퍼티에 값을 할당할 때도 위와 같이 점 구문을 연속으로 연결하여 값을 할당할 수 있다.  
* 이러한 방식을 **체인 (Chain)** 이라고 한다.  
* Objective-C에서는 이와 같은 체인 형식을 지원하지 않는다.  
* 스위프트에서는 연속된 프로퍼티의 타입을 컴파일러가 모두 체크한다. -> 체인 형식 사용 가능  

### 8.1.4 초기화  
* **옵셔널 타입으로 선언되지 않은 모든 프로퍼티**는 명시적으로 초기화해 주어야 한다.  
* 명시적인 초기화란?  
  * 1. 프로퍼티를 선언하면서 동시에 초기값을 지정하는 경우  
  * 2. 초기화 메소드 내에서 프로퍼티 초기값을 지정하는 경우  
* 클래스나 구조체의 모든 프로퍼티는 적어도 **인스턴스가 생성되는 시점**까지는 반드시 초기화되어야 한다.  
* 옵셔널 타입을 선언된 프로퍼티는 초기값이 지정되지 않을 경우 자동으로 **nil**로 초기화된다.  
* **구조체**는 모드 프로퍼티의 값으 인자값으로 입력받아 초기화하는 **기본 초기화 구문**을 자동으로 제공한다.  
* **멤버와이즈 초기화 구문 (Memberwise Initializer)** 라고 부른다.  

```swift
// width와 height르 매개변수로 하여 Resolution 인스턴스를 생성
let defaultRes = Resolution(width: 1024, height: 768)
```
* 이처럼 멤버 와이즈 초기화 구문은 인스턴스를 생성하는 형식을 정의하고, 입력된 인자값을 이용하여 프로퍼티를 초기화하는 과정까지 알아서 처리한다.  
* **클래스**는 멤버와이즈 형식의 초기화 구문이 제공되지 않는다.  
* 일부 프로퍼티의 초기값이 지정되지 않았을 경우, 초기화 구문 내에서에서 프로퍼티가 초기화될 수 있도록 직접 처리해주면 된다.  
* 완전 이해되기 전까지는 **클래스**의 프로퍼티와 초기화 구문에 대해 가급적 다음의 두 가지 원칙을 지키는 것이 좋다.  
  * 1. 모든 프로퍼티는 정의할 때 초기값을 주던가, 아니면 옵셔널 타입으로 선언한다.  
  * 2. 인스턴스를 생성할 때에는 클래스명 뒤에 `()`를 붙여준다.  

